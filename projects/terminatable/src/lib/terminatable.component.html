<div id="terminatable">
    <div class="table-caption" *ngIf="caption">
        <ng-container [ngTemplateOutlet]="caption"></ng-container>
    </div>
    <div class="table-container" [style.height]="_tableContainerHeight">
        <table>
            <thead>
                <tr [ngStyle]="trStyle">
                    <th *ngIf="_config.multiSelect" class="freeze">
                        <lib-checkbox #selectAll [value]="undefined"
                            (onChangeAllEmitter)="onChangeAll($event)"></lib-checkbox>
                    </th>
                    <th *ngFor="let column of _columns"
                        [class]="column.isFrozen ? 'freeze' : ''"
                        [ngStyle]="thStyle"
                        [style.minWidth.px]="column.width"
                        [style.color]="textColor(column)"
                        [style.backgroundColor]="backgroundColor({column})">
                        <span>
                            {{column.title}}
                        </span>
                    </th>
                </tr>
            </thead>
            <tbody>
                <div *ngIf="tbody;then tbodyContent else noTbodyContent"></div>
                <ng-template #tbodyContent>
                    <ng-container [ngTemplateOutlet]="tbody"></ng-container>
                </ng-template>

                <ng-template #noTbodyContent>
                    <tr *ngFor="let row of _data; let i = index" (click)="selectRow(row)"
                        [style.lineHeight.px]="_config.style.body.lineHeight"
                        [style.backgroundColor]="backgroundColor({index: i, row})"
                        [libHoverHighlight]="hoverHighlightInput(row, i)">
                        <td *ngIf="_config.multiSelect" class="freeze">
                            <lib-checkbox [value]="row" (onChangeEmitter)="onChangeOne($event)"></lib-checkbox>
                        </td>
                        <td *ngFor="let column of _columns" [class]="column.isFrozen ? 'freeze' : ''"
                            [ngStyle]="tdStyle" [style.minWidth.px]="column.width" [style.color]="textColor(column, i)"
                            [style.backgroundColor]="backgroundColor({index: i, row, column})">
                            <span>
                                {{row[column.field]}}
                            </span>
                        </td>
                    </tr>
                </ng-template>
            </tbody>
        </table>
    </div>
    <div class="table-footer" *ngIf="footer">
        <ng-container [ngTemplateOutlet]="footer"></ng-container>
    </div>
</div>